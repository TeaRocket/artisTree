{"version":3,"sources":["contexts/UserContext.js","services/auth.js","components/Nav/Nav.js","components/Signup/Signup.js","components/Login/Login.js","components/SearchResults/SearchResults.js","components/Logout/Logout.js","components/DateAdder/DateAdder.js","components/Availabilities/Availabilities.js","components/AddArtwork/AddArtwork.js","components/ArtworkList/ArtworkList.js","components/Profile/Profile.js","components/MessagesPage/MessagesListItem.js","components/MessagesPage/MessagesList.js","components/MessagesPage/MessagesChat.js","components/MessagesPage/MessagesPage.js","components/EditArtwork/EditArtwork.js","components/ArtworkDetails/ArtworkDetails.js","App.js","serviceWorker.js","index.js"],"names":["UserContext","createContext","UserContextProvider","state","user","availability","setUser","setState","updateUser","axios","put","_id","then","response","data","catch","error","console","log","Provider","value","this","props","children","Component","signup","username","password","email","birthDate","location","role","category","post","login","Nav","useContext","useLocation","pathname","search","onLoginPage","onSignupPage","onArtistSignupPage","id","to","src","window","origin","alt","queryString","require","Signup","message","categories","componentDidMount","get","isArtist","parsed","parse","Boolean","artist","handleChange","event","target","name","handleSubmit","preventDefault","context","history","push","onSubmit","type","onChange","map","key","variant","contextType","Login","SearchResults","useState","artists","setArtists","formValues","setFormValues","startDate","moment","endDate","add","setDates","setCategories","locations","setLocations","focusedInput","setFocusedInput","useEffect","categoriesPromise","locationPromise","resultsPromise","Promise","all","results","handleFormChange","useCallback","filteredArtists","filter","searchMatch","displayName","subcategory","toLowerCase","includes","trim","categoryMatch","locationMatch","dateMatch","some","range","rangeStartDate","rangeEndDate","rangeStartDateMatch","isBetween","rangeEndDateMatch","rangeMatch","className","e","htmlFor","startDateId","endDateId","onDatesChange","onFocusChange","imageUrl","height","Logout","delete","DateAdder","visibility","toggleVisibility","makeCalEntry","onClick","allowedToEdit","Availabilities","availabilities","av","split","AddArtwork","title","description","images","uploadOn","uploadMultiple","uploadData","FormData","files","i","length","append","headers","crossdomain","imgUrls","image","url","closeForm","getData","err","multiple","ArtworkList","artworks","artwork","profileId","Profile","bio","addArtworkForm","editPicture","handleFileChange","secure_url","result","editProfile","match","params","toggleEditForm","toggleArtwork","toggleProfileEdit","toString","style","MessagesListItem","linkId","from","backgroundImage","text","MessagesList","messages","setMessages","MessagesChat","setMessage","showMessages","Messages","EditArtwork","ArtworkDetails","editForm","taskForm","status","deleteArtwork","toggleTaskForm","owner","App","exact","path","component","MessagesPage","React","hostname","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.d623a68a.chunk.js","sourcesContent":["import React, { createContext, Component } from \"react\";\nimport axios from \"axios\";\n\nexport const UserContext = createContext();\n\nclass UserContextProvider extends Component {\n  state = {\n    user: {\n      availability: [],\n    },\n  };\n\n  setUser = (user) => {\n    this.setState({\n      user: user,\n    });\n  };\n\n  updateUser = (user) => {\n    axios\n      .put(this.state.user._id + \"/profile\", { ...this.state.user, ...user })\n      .then((response) => {\n        // console.log(\"this was put to db\", response);\n        return this.setUser(response.data);\n      })\n      .catch((error) => console.log(error));\n  };\n\n  render() {\n    return (\n      <UserContext.Provider\n        value={{\n          ...this.state,\n          setUser: this.setUser,\n          updateUser: this.updateUser,\n        }}\n      >\n        {this.props.children}\n      </UserContext.Provider>\n    );\n  }\n}\n\nexport default UserContextProvider;\n","import axios from \"axios\";\n\nconst signup = (\n  username,\n  password,\n  email,\n  birthDate,\n  location,\n  role,\n  category\n) => {\n  return axios\n    .post(\"/auth/signup\", {\n      username,\n      password,\n      email,\n      birthDate,\n      location,\n      role,\n      category,\n    })\n    .then((response) => {\n      return response.data;\n    })\n    .catch((error) => {\n      return error.response.data;\n    });\n};\n\nconst login = (username, password) => {\n  return axios\n    .post(\"/auth/login\", { username, password })\n    .then((response) => {\n      return response.data;\n    })\n    .catch((error) => {\n      return error.response.data;\n    });\n};\n\nconst logout = () => {\n  return axios\n    .delete(\"/auth/logout\")\n    .then((response) => {\n      return response.data;\n    })\n    .catch((error) => {\n      return error.response.data;\n    });\n};\n\nexport { signup, login, logout };\n","import React from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport { UserContext } from \"../../contexts/UserContext\";\nimport { useContext } from \"react\";\n\nexport default function Nav() {\n  const { user } = useContext(UserContext);\n  const { pathname, search } = useLocation();\n\n  const onLoginPage = pathname === \"/login\";\n  const onSignupPage = pathname === \"/signup\" && search !== \"?artist=true\";\n  const onArtistSignupPage = search === \"?artist=true\";\n  //const onArtistSignup = pathname === \"/signup\";\n  return (\n    <div id=\"Nav\">\n      <div id=\"nav-inner-l\">\n        <Link to=\"/\">\n          <img\n            src={window.location.origin + \"/artistree.png\"}\n            id=\"logo\"\n            alt=\"logo\"\n          />\n        </Link>\n      </div>\n      <div id=\"nav-inner-r\">\n        <Link to=\"/\">Home</Link>\n        {user ? (\n          <>\n            <Link to={`/user/${user._id}`}>Profile</Link>\n            <Link to=\"/logout\">Logout</Link>\n          </>\n        ) : (\n          <>\n            {!onArtistSignupPage && (\n              <Link to=\"/signup?artist=true\">Create artist profile</Link>\n            )}\n            {!onLoginPage && <Link to=\"/login\">Login</Link>}\n            {!onSignupPage && <Link to=\"/signup\">Signup</Link>}\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n","import React, { Component } from \"react\";\nimport { signup } from \"../../services/auth\";\nimport Nav from \"../Nav/Nav\";\nimport { UserContext } from \"../../contexts/UserContext\";\nimport axios from \"axios\";\nconst queryString = require(\"query-string\");\n\nexport default class Signup extends Component {\n  state = {\n    username: \"\",\n    password: \"\",\n    email: \"\",\n    birthDate: \"\",\n    location: \"\",\n    message: \"\",\n    categories: [],\n    category: \"\",\n  };\n  static contextType = UserContext;\n\n  componentDidMount = () => {\n    axios.get(\"/categories\").then((categories) => {\n      this.setState({\n        categories: categories.data,\n      });\n    });\n  };\n\n  isArtist = () => {\n    const parsed = queryString.parse(this.props.location.search);\n    return Boolean(parsed.artist);\n  };\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    const {\n      username,\n      password,\n      email,\n      birthDate,\n      location,\n      category,\n    } = this.state;\n\n    signup(\n      username,\n      password,\n      email,\n      birthDate,\n      location,\n      this.isArtist() ? \"Artist\" : \"Client\",\n      category\n    ).then((data) => {\n      if (data.message) {\n        this.setState({\n          message: data.message,\n          username: \"\",\n          password: \"\",\n          email: \"\",\n          birthDate: \"\",\n          location: \"\",\n          role: \"\",\n        });\n      } else {\n        const { setUser } = this.context;\n        setUser(data);\n        this.props.history.push(\"/login\");\n      }\n    });\n  };\n  render() {\n    //getting a query from url\n\n    return (\n      <div>\n        <Nav />\n        <h2>Signup</h2>\n        <form onSubmit={this.handleSubmit}>\n          <label>Username: </label>\n          <input\n            type=\"text\"\n            name=\"username\"\n            value={this.state.username}\n            onChange={this.handleChange}\n            id=\"username\"\n          />\n          <label>Password: </label>\n          <input\n            type=\"password\"\n            name=\"password\"\n            value={this.state.password}\n            onChange={this.handleChange}\n            id=\"password\"\n          />\n          <label>Email: </label>\n          <input\n            type=\"text\"\n            name=\"email\"\n            value={this.state.email}\n            onChange={this.handleChange}\n            id=\"email\"\n          />\n          <label>Birthdate: </label>\n          <input\n            type=\"date\"\n            name=\"birthDate\"\n            value={this.state.birthDate}\n            onChange={this.handleChange}\n            id=\"birthDate\"\n          />\n          {this.isArtist() && (\n            <>\n              <label>Location: </label>\n              <input\n                type=\"text\"\n                name=\"location\"\n                value={this.state.location}\n                onChange={this.handleChange}\n                id=\"location\"\n              />\n              <label>Type of artist: </label>\n              <select\n                name=\"category\"\n                id=\"category\"\n                value={this.state.category}\n                onChange={this.handleChange}\n              >\n                {this.state.categories.map((category) => (\n                  <option key={category} value={category}>\n                    {category}\n                  </option>\n                ))}\n              </select>\n            </>\n          )}\n\n          {this.state.message && (\n            <div variant=\"danger\">{this.state.message}</div>\n          )}\n          <input type=\"submit\" value=\"Signup\" />\n        </form>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { login } from \"../../services/auth\";\nimport Nav from \"../Nav/Nav\";\nimport { UserContext } from \"../../contexts/UserContext\";\n\nexport default class Login extends Component {\n  state = {\n    username: \"\",\n    password: \"\",\n    message: \"\",\n  };\n  static contextType = UserContext;\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const { username, password } = this.state;\n    login(username, password).then((data) => {\n      if (data.message) {\n        this.setState({\n          message: data.message,\n          username: \"\",\n          password: \"\",\n        });\n      } else {\n        const user = data;\n        const { setUser } = this.context;\n        setUser(user);\n        this.props.history.push(\n          user.role === \"Artist\" ? `/user/${user._id}` : \"/\"\n        );\n      }\n    });\n  };\n\n  render() {\n    return (\n      <div>\n        <Nav />\n        <h2>Login</h2>\n        <form onSubmit={this.handleSubmit}>\n          <label>Username: </label>\n          <input\n            type=\"text\"\n            name=\"username\"\n            value={this.state.username}\n            onChange={this.handleChange}\n            id=\"username\"\n          />\n          <label>Password: </label>\n          <input\n            type=\"password\"\n            name=\"password\"\n            value={this.state.password}\n            onChange={this.handleChange}\n            id=\"password\"\n          />\n          {this.state.message && (\n            <div variant=\"danger\">{this.state.message}</div>\n          )}\n          <input type=\"submit\" value=\"Login\" />\n        </form>\n      </div>\n    );\n  }\n}\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport Nav from \"../Nav/Nav\";\nimport { DateRangePicker } from \"react-dates\";\nimport \"react-dates/lib/css/_datepicker.css\";\nimport \"react-dates/initialize\";\nimport moment from \"moment\";\n\nexport default function SearchResults() {\n  const [artists, setArtists] = useState([]);\n  const [formValues, setFormValues] = useState({\n    category: \"Visual Artist\",\n    location: \"\",\n    search: \"\",\n  });\n  const [{ startDate, endDate }, setDates] = useState({\n    startDate: moment(),\n    endDate: moment().add(7, \"d\"),\n  });\n  const [categories, setCategories] = useState([]);\n  const [locations, setLocations] = useState([]);\n  const [focusedInput, setFocusedInput] = useState(null);\n\n  useEffect(() => {\n    const categoriesPromise = axios.get(\"/categories\");\n    const locationPromise = axios.get(\"/locations\");\n    const resultsPromise = axios.get(\"/results\");\n    Promise.all([categoriesPromise, locationPromise, resultsPromise]).then(\n      ([categories, locations, results]) => {\n        setCategories(categories.data);\n        setLocations(locations.data);\n        setArtists(results.data);\n      }\n    );\n  }, []);\n  const handleFormChange = useCallback(\n    (event) => {\n      setFormValues({\n        ...formValues,\n        [event.target.name]: event.target.value,\n      });\n    },\n    [formValues, setFormValues]\n  );\n  const filteredArtists = artists.filter((artist) => {\n    const artistString = `${artist.displayName}_${artist.subcategory}`.toLowerCase();\n    const searchMatch = artistString.includes(\n      formValues.search.toLowerCase().trim()\n    );\n    const categoryMatch =\n      formValues.category === artist.category ||\n      !formValues.category ||\n      (formValues.category === \"Other\" && searchMatch);\n    const locationMatch =\n      formValues.location === artist.location || !formValues.location;\n    const dateMatch =\n      artist.availability &&\n      artist.availability.some((range) => {\n        let rangeStartDate = moment(range.startDate);\n        let rangeEndDate = moment(range.endDate);\n        const rangeStartDateMatch =\n          rangeStartDate && rangeStartDate.isBetween(startDate, endDate);\n        const rangeEndDateMatch =\n          rangeEndDate && rangeEndDate.isBetween(startDate, endDate);\n        const rangeMatch =\n          startDate &&\n          startDate.isBetween(rangeStartDate, rangeEndDate) &&\n          endDate &&\n          endDate.isBetween(rangeStartDate, rangeEndDate);\n        return rangeStartDateMatch || rangeEndDateMatch || rangeMatch;\n      });\n    return categoryMatch && locationMatch && dateMatch;\n  });\n\n  return (\n    <>\n      <Nav />\n      <section>\n        <form className=\"searchForm\" onSubmit={(e) => e.preventDefault()}>\n          <label htmlFor=\"category\">Category</label>\n          <select\n            name=\"category\"\n            id=\"category\"\n            onChange={handleFormChange}\n            value={formValues.category}\n          >\n            {categories.map((category) => (\n              <option key={category} value={category}>\n                {category}\n              </option>\n            ))}\n          </select>\n          {formValues.category === \"Other\" && (\n            <label htmlFor=\"subcategory\">\n              Custom Search\n              <input\n                type=\"text\"\n                name=\"search\"\n                id=\"subcategory\"\n                onChange={handleFormChange}\n                value={formValues.search}\n              />\n            </label>\n          )}\n          <label htmlFor=\"location\">Location</label>\n          <select\n            name=\"location\"\n            id=\"location\"\n            onChange={handleFormChange}\n            value={formValues.location}\n          >\n            <option value=\"\" />\n            {locations.map((location) => (\n              <option key={location} value={location}>\n                {location}\n              </option>\n            ))}\n          </select>\n          <DateRangePicker\n            startDate={startDate} // momentPropTypes.momentObj or null,\n            startDateId=\"your_unique_start_date_id\" // PropTypes.string.isRequired,\n            endDate={endDate} // momentPropTypes.momentObj or null,\n            endDateId=\"your_unique_end_date_id\" // PropTypes.string.isRequired,\n            onDatesChange={({ startDate, endDate }) => {\n              setDates({ startDate: startDate, endDate: endDate });\n            }} // PropTypes.func.isRequired,\n            focusedInput={focusedInput} // PropTypes.oneOf([START_DATE, END_DATE]) or null,\n            onFocusChange={(focusedInput) => setFocusedInput(focusedInput)} // PropTypes.func.isRequired,\n          />\n        </form>\n        <ul>\n          {filteredArtists.map((artist) => {\n            return (\n              <li key={artist._id}>\n                <Link to={`/user/${artist._id}`}>\n                  <img src={artist.imageUrl} alt=\"\" height=\"100\" />\n                  <p>{artist.username}</p>\n                  <p>{artist.category}</p>\n                  <p>{artist.subcategory}</p>\n                </Link>\n              </li>\n            );\n          })}\n        </ul>\n      </section>\n    </>\n  );\n}\n","import { useContext, useEffect } from \"react\";\nimport { UserContext } from \"../../contexts/UserContext\";\nimport axios from \"axios\";\n\nexport default function Logout(props) {\n  const { setUser } = useContext(UserContext);\n\n  useEffect(() => {\n    axios.delete(\"/auth/logout\").then((response) => {\n      setUser(null);\n      props.history.push(\"/\");\n    });\n  }, [props.history, setUser]);\n\n  return null;\n}\n","import React, { Component } from \"react\";\nimport { DateRangePicker } from \"react-dates\";\nimport \"react-dates/lib/css/_datepicker.css\";\nimport \"react-dates/initialize\";\nimport { UserContext } from \"../../contexts/UserContext\";\n\nexport default class DateAdder extends Component {\n  static contextType = UserContext;\n\n  state = {\n    visibility: false,\n    startDate: null,\n    endDate: null,\n  };\n\n  toggleVisibility = () => {\n    this.setState({\n      ...this.state,\n      visibility: !this.state.visibility,\n    });\n  };\n\n  makeCalEntry = () => {\n    this.context.updateUser({\n      ...this.context.user,\n      availability: [\n        ...(this.context.user.availability\n          ? this.context.user.availability\n          : []),\n        {\n          startDate: this.state.startDate,\n          endDate: this.state.endDate,\n        },\n      ],\n    });\n    this.setState({ ...this.state, startDate: null, endDate: null });\n  };\n\n  render() {\n    if (this.state.visibility) {\n      return (\n        <div>\n          <DateRangePicker\n            startDate={this.state.startDate} // momentPropTypes.momentObj or null,\n            startDateId=\"your_unique_start_date_id\" // PropTypes.string.isRequired,\n            endDate={this.state.endDate} // momentPropTypes.momentObj or null,\n            endDateId=\"your_unique_end_date_id\" // PropTypes.string.isRequired,\n            onDatesChange={({ startDate, endDate }) =>\n              this.setState({ startDate, endDate })\n            } // PropTypes.func.isRequired,\n            focusedInput={this.state.focusedInput} // PropTypes.oneOf([START_DATE, END_DATE]) or null,\n            onFocusChange={(focusedInput) => this.setState({ focusedInput })} // PropTypes.func.isRequired,\n          />\n          <br />\n          <button\n            onClick={() => {\n              if (this.state.startDate && this.state.endDate) {\n                return this.makeCalEntry();\n              }\n              console.log(\"no can do, sir\");\n            }}\n          >\n            Submit\n          </button>\n          <button onClick={this.toggleVisibility}>Close</button>\n        </div>\n      );\n    } else {\n      return (\n        <>\n          {this.props.allowedToEdit && (\n            <button onClick={this.toggleVisibility}>Add Availability</button>\n          )}\n        </>\n      );\n    }\n  }\n}\n","import React, { Component } from \"react\";\nimport { UserContext } from \"../../contexts/UserContext\";\nimport moment from \"moment\";\n\nexport default class Availabilities extends Component {\n  static contextType = UserContext;\n\n  render() {\n    const { availability } = this.context.user;\n    const availabilities = availability\n      ? availability.map((av) => {\n          return (\n            <li key={av._id}>\n              {av.startDate.split(\"T\")[0]} to {av.endDate.split(\"T\")[0]}\n            </li>\n          );\n        })\n      : null;\n\n    return (\n      <div>\n        <h1>Your availabilities:</h1>\n        <ul id=\"Availabilities\">{availabilities}</ul>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\n\nexport default class AddArtwork extends Component {\n  state = {\n    title: \"\",\n    description: \"\",\n    images: [],\n    uploadOn: false,\n  };\n\n  handleChange = (event) => {\n    const name = event.target.name;\n    const value = event.target.value;\n\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  //upload artwork\n  uploadMultiple = (event) => {\n    event.preventDefault();\n    const uploadData = new FormData();\n    const files = event.target.files;\n    for (let i = 0; i < files.length; i++) {\n      uploadData.append(\"files\", files[i]);\n    }\n    this.setState({ uploadOn: true }, () => {\n      axios\n        .post(\"/upload/multiple\", uploadData, {\n          headers: { crossdomain: true, \"Content-Type\": \"undefined\" },\n        })\n        .then((response) => {\n          const imgUrls = response.data.data.map((image) => image.url);\n          this.setState({ images: imgUrls, uploadOn: false });\n        })\n        .catch((error) => console.log(error));\n    });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    axios\n      .post(\"/artwork\", {\n        title: this.state.title,\n        description: this.state.description,\n        images: this.state.images,\n      })\n      .then(() => {\n        this.setState({\n          title: \"\",\n          description: \"\",\n          images: [],\n        });\n        this.props.closeForm();\n        // update state in artwork by executing getData()\n        this.props.getData();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  render() {\n    return (\n      <div>\n        <form onSubmit={this.handleSubmit}>\n          <fieldset>\n            <label>\n              Title:\n              <input\n                type=\"text\"\n                name=\"title\"\n                value={this.state.title}\n                onChange={(e) => this.handleChange(e)}\n              />\n            </label>\n            <label>\n              Description:\n              <input\n                type=\"text\"\n                name=\"description\"\n                value={this.state.description}\n                onChange={(e) => this.handleChange(e)}\n              />\n            </label>\n          </fieldset>\n          <fieldset>\n            <legend>Add Artwork</legend>\n            <label>\n              Select images:\n              <input\n                type=\"file\"\n                name=\"files\"\n                multiple\n                onChange={this.uploadMultiple}\n              />\n            </label>\n          </fieldset>\n          {!this.state.uploadOn && <input type=\"submit\" value=\"Submit\" />}\n        </form>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst ArtworkList = (props) => {\n  return (\n    <div>\n      {props.artworks.length > 0 && <h2>Artworks:</h2>}\n      {props.artworks.map((artwork) => {\n        return (\n          <div key={artwork._id}>\n            <Link to={`/user/${props.profileId}/artwork/${artwork._id}`}>\n              <h3>{artwork.title}</h3>\n              <img src={artwork.images[0]} alt=\"\" height=\"200\" />\n            </Link>\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default ArtworkList;\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport Nav from \"../Nav/Nav\";\nimport DateAdder from \"../DateAdder/DateAdder\";\nimport Availabilities from \"../Availabilities/Availabilities\";\nimport AddArtwork from \"../AddArtwork/AddArtwork\";\nimport ArtworkList from \"../ArtworkList/ArtworkList\";\nimport { Link } from \"react-router-dom\";\nimport { UserContext } from \"../../contexts/UserContext\";\nexport default class Profile extends Component {\n  static contextType = UserContext;\n\n  state = {\n    imageUrl: null,\n    username: null,\n    displayName: \"\",\n    bio: \"\",\n    location: null,\n    role: null,\n    categories: [],\n    category: \"\",\n    subcategory: \"\",\n    artworks: [],\n    images: [],\n    error: false,\n    addArtworkForm: false,\n    editPicture: false,\n    uploadOn: false,\n  };\n  static contextType = UserContext;\n\n  componentDidMount = () => {\n    this.getData();\n    axios.get(\"/categories\").then((categories) => {\n      this.setState({\n        categories: categories.data,\n      });\n    });\n  };\n\n  handleFormChange = (event) => {\n    this.setState({\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  //change pfp\n  handleFileChange = (event) => {\n    const uploadData = new FormData();\n    uploadData.append(\"imageUrl\", event.target.files[0]);\n    this.setState({ uploadOn: true }, () => {\n      axios\n        .post(\"/upload/single\", uploadData)\n        .then((response) => {\n          this.setState({\n            imageUrl: response.data.secure_url,\n            uploadOn: false,\n          });\n        })\n        .catch((error) => console.log(error));\n    });\n    //uploadData.append('username', this.state.username)\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    // const uploadData = new FormData();\n    const { user } = this.context;\n    const availability = user.availability;\n    const { displayName, bio, location, category, subcategory } = this.state;\n    console.log(availability);\n    axios\n      .put(`/user/${user._id}/profile`, {\n        displayName,\n        bio,\n        location,\n        category,\n        subcategory,\n        availability,\n      })\n      .then((result) => {\n        const {\n          displayName,\n          bio,\n          location,\n          category,\n          subcategory,\n          availability,\n        } = result.data;\n        this.setState({\n          displayName,\n          bio,\n          location,\n          category,\n          subcategory,\n          availability,\n          editProfile: false,\n        });\n      });\n  };\n\n  getData = () => {\n    const id = this.props.match.params.id;\n    axios\n      .get(`/user/${id}`)\n      .then((response) => {\n        const {\n          displayName,\n          bio,\n          location,\n          category,\n          subcategory,\n          availability,\n          imageUrl,\n          username,\n          artworks,\n          role,\n        } = response.data;\n        this.setState({\n          displayName,\n          bio,\n          location,\n          category,\n          subcategory,\n          availability,\n          imageUrl,\n          username,\n          artworks,\n          role,\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n        // if (error.response.status === 404) {\n        //   this.setState({ error: \"Not found\" });\n        // }\n      });\n  };\n\n  toggleEditForm = () => {\n    this.setState({\n      editPicture: !this.state.editPicture,\n    });\n  };\n\n  toggleArtwork = () => {\n    this.setState({\n      addArtworkForm: !this.state.addArtworkForm,\n    });\n  };\n\n  toggleProfileEdit = () => {\n    this.setState({\n      editProfile: !this.state.editProfile,\n    });\n  };\n\n  render() {\n    if (this.state.error) return <div>{this.state.error.toString()}</div>;\n    if (!this.state.username) return <></>;\n    const { user } = this.context;\n    const profileId = this.props.match.params.id;\n    const allowedToEdit = user._id === profileId;\n\n    return (\n      <>\n        <Nav />\n        <div>\n          <h1>{this.state.displayName}</h1>\n          <div>\n            <img\n              style={{ height: \"200px\" }}\n              src={this.state.imageUrl}\n              alt={this.state.displayName}\n            />\n            {!allowedToEdit ? (\n              <Link to={`/messages/${profileId}`}>Send a message</Link>\n            ) : (\n              <Link to={`/messages`}>My messages</Link>\n            )}\n            <div>\n              {allowedToEdit && (\n                <button type=\"button\" onClick={this.toggleEditForm}>\n                  Edit Picture\n                </button>\n              )}\n              {this.state.editPicture && (\n                <form>\n                  <input\n                    type=\"file\"\n                    onChange={(e) => this.handleFileChange(e)}\n                  />\n                </form>\n              )}\n            </div>\n          </div>\n\n          <p>{this.state.getData}</p>\n          {allowedToEdit && (\n            <button type=\"button\" onClick={this.toggleProfileEdit}>\n              Edit Profile\n            </button>\n          )}\n          {this.state.editProfile && (\n            <form onSubmit={this.handleSubmit}>\n              <label htmlFor=\"displayName\">Display Name</label>\n              <input\n                type=\"text\"\n                name=\"displayName\"\n                id=\"displayName\"\n                onChange={this.handleFormChange}\n                value={this.state.displayName}\n              />\n              <label htmlFor=\"bio\">Bio</label>\n              <textarea\n                type=\"text\"\n                name=\"bio\"\n                id=\"bio\"\n                value={this.state.bio}\n                onChange={this.handleFormChange}\n              />\n\n              <label htmlFor=\"location\">Location</label>\n              <input\n                onChange={this.handleFormChange}\n                type=\"text\"\n                name=\"location\"\n                id=\"location\"\n                value={this.state.location}\n              />\n              <label htmlFor=\"category\">Artist Type</label>\n              <select\n                name=\"category\"\n                id=\"category\"\n                value={this.state.category}\n                onChange={this.handleFormChange}\n              >\n                {this.state.categories.map((category) => (\n                  <option key={category} value={category}>\n                    {category}\n                  </option>\n                ))}\n              </select>\n              <label htmlFor=\"subcategory\">Subcategory</label>\n              <input\n                type=\"text\"\n                name=\"subcategory\"\n                id=\"subcategory\"\n                value={this.state.subcategory}\n                onChange={this.handleFormChange}\n              ></input>\n              <button type=\"submit\">Update Profile</button>\n            </form>\n          )}\n\n          <p>{this.state.location}</p>\n          <p>{this.state.bio}</p>\n          <p>{this.state.category}</p>\n          <p>{this.state.subcategory}</p>\n\n          <div>\n            <ArtworkList artworks={this.state.artworks} profileId={profileId} />\n            {allowedToEdit && user.role === \"Artist\" && (\n              <>\n                <button type=\"button\" onClick={this.toggleArtwork}>\n                  Add Artwork\n                </button>\n              </>\n            )}\n            {this.state.addArtworkForm && (\n              <AddArtwork\n                getData={this.getData}\n                closeForm={() => {\n                  this.setState({ addArtworkForm: false });\n                }}\n              />\n            )}\n          </div>\n          {user.role === \"Artist\" && (\n            <>\n              <Availabilities allowedToEdit={allowedToEdit} />\n              <DateAdder allowedToEdit={allowedToEdit} />\n            </>\n          )}\n        </div>\n      </>\n    );\n  }\n}\n","import React, { useContext } from \"react\";\nimport { UserContext } from \"../../contexts/UserContext\";\nimport { Link } from \"react-router-dom\";\n\nexport default function MessagesListItem({ message }) {\n  const { user } = useContext(UserContext);\n\n  const linkId =\n    message.from.username === user.username ? message.to._id : message.from._id;\n  console.log(message);\n  return (\n    <li>\n      <Link to={`/messages/${linkId}`}>\n        <div\n          className=\"message-profile-pic\"\n          style={{\n            backgroundImage: `url(${\n              message.from.username === user.username\n                ? message.to.imageUrl\n                : message.from.imageUrl\n            })`,\n          }}\n        />\n\n        <p>\n          {message.from.username === user.username\n            ? message.to.username\n            : message.from.username}\n        </p>\n        <p>{message.text}</p>\n      </Link>\n    </li>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport MessagesListItem from \"./MessagesListItem\";\n\nexport default function MessagesList() {\n  const [messages, setMessages] = useState([]);\n\n  useEffect(() => {\n    axios.get(\"/messages\").then((result) => {\n      setMessages(result.data);\n    });\n  }, [setMessages]);\n\n  return (\n    <div>\n      <ul>\n        {messages.map((message) => {\n          return <MessagesListItem key={message._id} message={message} />;\n        })}\n      </ul>\n    </div>\n  );\n}\n","import React, { useState, useContext, useEffect } from \"react\";\nimport { UserContext } from \"../../contexts/UserContext\";\nimport axios from \"axios\";\n\nexport default function MessagesChat(props) {\n  const { user } = useContext(UserContext);\n  const [message, setMessage] = useState(\"\");\n  const [messages, setMessages] = useState([]);\n\n  const handleChange = (event) => {\n    setMessage(event.target.value);\n  };\n\n  const showMessages = () => {\n    axios.get(`/messages/${props.id}`).then((result) => {\n      setMessages(result.data);\n    });\n  };\n  useEffect(() => {\n    showMessages();\n  }, [props.id]);\n\n  const sendMessage = (e) => {\n    e.preventDefault();\n    axios.post(`/messages/${props.id}`, { message }).then((result) => {\n      showMessages();\n      setMessage(\"\");\n    });\n  };\n  return (\n    <div>\n      {props.id && (\n        <>\n          <ul>\n            {messages.map((message) => {\n              return (\n                <li>\n                  <p>From: {message.from.username}</p>\n                  <p>To: {message.to.username}</p>\n                  <p>{message.text}</p>\n                </li>\n              );\n            })}\n          </ul>\n          <form onSubmit={sendMessage}>\n            <label htmlFor=\"Message\">Message</label>\n            <textarea\n              value={message}\n              onChange={handleChange}\n              type=\"text\"\n              name=\"message\"\n              id=\"Message\"\n            />\n            <button type=\"submit\">Send</button>\n          </form>\n        </>\n      )}\n    </div>\n  );\n}\n","import React, { useContext, useEffect } from \"react\";\nimport MessagesList from \"./MessagesList\";\nimport MessagesChat from \"./MessagesChat\";\nimport Nav from \"../Nav/Nav\";\nimport { UserContext } from \"../../contexts/UserContext\";\n\nexport default function Messages(props) {\n  const id = props.match.params.id;\n  const { user } = useContext(UserContext);\n  useEffect(() => {\n    if (user._id === id) {\n      props.history.push(\"/messages\");\n    }\n  }, [user._id, id]);\n  return (\n    <>\n      <Nav />\n      <div>\n        <MessagesList id={id} />\n        <MessagesChat id={id} />\n      </div>\n    </>\n  );\n}\n","import React, { Component } from \"react\";\n\nexport default class EditArtwork extends Component {\n  render() {\n    return (\n      <div>\n        <h2>Edit Artwork: </h2>\n        <form onSubmit={this.props.handleSubmit}>\n          <label htmlFor=\"title\">Title:</label>\n          <input\n            type=\"text\"\n            name=\"title\"\n            id=\"title\"\n            value={this.props.title}\n            onChange={(e) => this.props.handleChange(e)}\n          />\n          <label htmlFor=\"description\">Description:</label>\n          <input\n            type=\"text\"\n            name=\"description\"\n            id=\"description\"\n            value={this.props.description}\n            onChange={(e) => this.props.handleChange(e)}\n          />\n          <label htmlFor=\"submit\">Add Artwork</label>\n          <input type=\"submit\" value=\"Submit\" id=\"submit\" />\n        </form>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport EditArtwork from \"../EditArtwork/EditArtwork\";\nimport AddArtwork from \"../AddArtwork/AddArtwork\";\nimport ArtworkList from \"../ArtworkList/ArtworkList\";\nimport axios from \"axios\";\nimport { UserContext } from \"../../contexts/UserContext\";\n\nexport default class ArtworkDetails extends Component {\n  static contextType = UserContext;\n\n  state = {\n    artwork: null,\n    title: \"\",\n    description: \"\",\n    images: [],\n    editForm: false,\n    taskForm: false,\n    error: null,\n  };\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const id = this.props.match.params.id;\n    axios\n      .put(`/artwork/${id}`, {\n        title: this.state.title,\n        description: this.state.description,\n        images: this.state.images,\n      })\n      .then((response) => {\n        this.setState({\n          artwork: response.data,\n          title: response.data.title,\n          description: response.data.description,\n          editForm: false,\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  getData = () => {\n    const id = this.props.match.params.id;\n    axios\n      .get(`/artwork/${id}`)\n      .then((response) => {\n        this.setState({\n          artwork: response.data,\n          title: response.data.title,\n          description: response.data.description,\n          images: response.data.images,\n        });\n      })\n      .catch((err) => {\n        if (err.response.status === 404) {\n          this.setState({ error: \"Not found\" });\n        }\n      });\n  };\n\n  deleteArtwork = () => {\n    const id = this.props.match.params.id;\n    const { user } = this.context;\n\n    axios\n      .delete(`/artwork/${id}`)\n      .then(() => {\n        this.props.history.push(`/user/${user._id}`);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  toggleEditForm = () => {\n    this.setState({\n      editForm: !this.state.editForm,\n    });\n  };\n\n  toggleTaskForm = () => {\n    this.setState({\n      taskForm: !this.state.taskForm,\n    });\n  };\n\n  componentDidMount = () => {\n    this.getData();\n  };\n\n  render() {\n    if (this.state.error) return <div>{this.state.error}</div>;\n    if (!this.state.artwork) return <></>;\n\n    let allowedToDelete = false;\n    const user = this.props.user;\n    const owner = this.state.artwork.owner;\n    if (user && user._id === owner) allowedToDelete = true;\n\n    return (\n      <div>\n        <h1>{this.state.artwork.title}</h1>\n        <img src={this.state.images[0]} alt=\"\" />\n        <p>{this.state.artwork.description}</p>\n        <button onClick={this.deleteArtwork}>Delete this Artwork</button>\n        <button onClick={this.toggleEditForm}>Show edit form</button>\n        {this.state.editForm && (\n          <EditArtwork\n            {...this.state}\n            handleChange={this.handleChange}\n            handleSubmit={this.handleSubmit}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport { Route } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { UserContext } from \"./contexts/UserContext\";\nimport Signup from \"./components/Signup/Signup\";\nimport Login from \"./components/Login/Login\";\nimport SearchResults from \"./components/SearchResults/SearchResults\";\nimport Logout from \"./components/Logout/Logout\";\nimport Profile from \"./components/Profile/Profile\";\nimport MessagesPage from \"./components/MessagesPage/MessagesPage\";\nimport AddArtwork from \"./components/AddArtwork/AddArtwork\";\nimport ArtworkDetails from \"./components/ArtworkDetails/ArtworkDetails\";\nimport ArtworkList from \"./components/ArtworkList/ArtworkList\";\n\nclass App extends React.Component {\n  static contextType = UserContext;\n\n  componentDidMount() {\n    axios\n      .get(\"/auth/loggedin\")\n      .then((response) => {\n        console.log(response.data);\n        const { setUser } = this.context;\n        setUser(response.data);\n      })\n      .catch((err) => console.log(err));\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Route exact path=\"/\" component={SearchResults} />\n        <Route exact path=\"/signup\" component={Signup} />\n        <Route exact path=\"/login\" component={Login} />\n        <Route exact path=\"/logout\" component={Logout} />\n        <Route exact path=\"/user/:id\" component={Profile} />\n        <Route exact path=\"/messages/:id\" component={MessagesPage} />\n        <Route exact path=\"/messages\" component={MessagesPage} />\n        <Route exact path=\"/user/:id/artwork\" component={AddArtwork} />\n        <Route exact path=\"/user/:id/artwork\" component={ArtworkList} />\n        <Route exact path=\"/user/:id/artwork/:id\" component={ArtworkDetails} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport UserContextProvider from \"./contexts/UserContext\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <UserContextProvider>\n      <App />\n    </UserContextProvider>\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}